.. index:: pair: class; sophus::RxSo2Base
.. _doxid-classsophus_1_1_rx_so2_base:

template class sophus::RxSo2Base
================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

:ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>` base type - implements :ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>` class but is storage agnostic. :ref:`More...<details-classsophus_1_1_rx_so2_base>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <rxso2.h>
	
	template <class TDerived>
	class RxSo2Base {
	public:
		// typedefs
	
		using :target:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>` = typename Eigen::internal::traits<TDerived>:::ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>` ;
		using :target:`ComplexType<doxid-classsophus_1_1_rx_so2_base_1addc7a0e343df4ef14a2c4f45991180b2>` = typename Eigen::internal::traits<TDerived>:::ref:`ComplexType<doxid-classsophus_1_1_rx_so2_base_1addc7a0e343df4ef14a2c4f45991180b2>` ;
		using :target:`ComplexTemporaryType<doxid-classsophus_1_1_rx_so2_base_1aa1276ed62ed2eda7dff6666bf6348f10>` = Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, 2, 1, :ref:`kOptions<doxid-classsophus_1_1_rx_so2_base_1ae924bbfc4141af0febf3b5e867afd12d>`> ;
		using :target:`Transformation<doxid-classsophus_1_1_rx_so2_base_1ad742acf7ee0250a17aa88d56e40f3818>` = Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, :ref:`kMatrixDim<doxid-classsophus_1_1_rx_so2_base_1ad7231f2ff45af51acb2691093cdc5942>`, :ref:`kMatrixDim<doxid-classsophus_1_1_rx_so2_base_1ad7231f2ff45af51acb2691093cdc5942>`> ;
		using :target:`Point<doxid-classsophus_1_1_rx_so2_base_1a618deaf598370ee4bad79855a30a35e9>` = Eigen::Vector2<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`> ;
		using :target:`HomogeneousPoint<doxid-classsophus_1_1_rx_so2_base_1a88bfa5b830ba5db3245e32cc2e826f52>` = Eigen::Vector3<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`> ;
		using :target:`Line<doxid-classsophus_1_1_rx_so2_base_1a00cb173488d88cfc7788bf342a07e828>` = Eigen::ParametrizedLine<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, 2> ;
		using :target:`Hyperplane<doxid-classsophus_1_1_rx_so2_base_1a885d85917eadab7a269097186edf3a8f>` = Eigen::Hyperplane<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, 2> ;
		using :target:`Tangent<doxid-classsophus_1_1_rx_so2_base_1a14797021d8636fd439ae7b39fc1b3aee>` = Eigen::Vector<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a96ef5537aade76b8ccc3539b150ef5f4>`> ;
		using :target:`Adjoint<doxid-classsophus_1_1_rx_so2_base_1ae279546cffcb978438b32d5069ff682f>` = Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a96ef5537aade76b8ccc3539b150ef5f4>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a96ef5537aade76b8ccc3539b150ef5f4>`> ;
		using :ref:`ReturnScalar<doxid-classsophus_1_1_rx_so2_base_1a6d5049d4341efd98753ff7b5548b7bd7>` = typename Eigen::ScalarBinaryOpTraits<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, typename TOtherDerived::Scalar>::ReturnType ;
		using :target:`RxSo2Product<doxid-classsophus_1_1_rx_so2_base_1a71ff0420ef5e23734041b491c43d5b4b>` = :ref:`RxSo2<doxid-classsophus_1_1_rx_so2>`<:ref:`ReturnScalar<doxid-classsophus_1_1_rx_so2_base_1a6d5049d4341efd98753ff7b5548b7bd7>`<TOtherDerived>> ;
		using :target:`PointProduct<doxid-classsophus_1_1_rx_so2_base_1a9ef42846f4edb15451e23a842edd44a5>` = Eigen::Vector2<:ref:`ReturnScalar<doxid-classsophus_1_1_rx_so2_base_1a6d5049d4341efd98753ff7b5548b7bd7>`<TPointDerived>> ;
		using :target:`HomogeneousPointProduct<doxid-classsophus_1_1_rx_so2_base_1ae080c2fd946cbb9e8cbba9fce3922b27>` = Eigen::Vector3<:ref:`ReturnScalar<doxid-classsophus_1_1_rx_so2_base_1a6d5049d4341efd98753ff7b5548b7bd7>`<THPointDerived>> ;

		// fields
	
		static constexpr int :target:`kOptions<doxid-classsophus_1_1_rx_so2_base_1ae924bbfc4141af0febf3b5e867afd12d>` = Eigen::internal::traits<TDerived>::kOptions;
		static constexpr int :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a96ef5537aade76b8ccc3539b150ef5f4>` = 2;
		static constexpr int :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1a76f9a2fdb63e47c39d11b2e5fdf8369d>` = 2;
		static constexpr int :ref:`kMatrixDim<doxid-classsophus_1_1_rx_so2_base_1ad7231f2ff45af51acb2691093cdc5942>` = 2;
		static constexpr int :ref:`kPointDim<doxid-classsophus_1_1_rx_so2_base_1a44ff3f3d38b97e064cdb843ee5bff359>` = 2;

		// methods
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Adjoint<doxid-classsophus_1_1_rx_so2_base_1ae279546cffcb978438b32d5069ff682f>` :ref:`adj<doxid-classsophus_1_1_rx_so2_base_1a3197a8191e899800ffb0b81c3867fa90>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>` :ref:`angle<doxid-classsophus_1_1_rx_so2_base_1a641734afc455ea6215396bf2f30b9e29>`() const;
	
		template <class TNewScalarType>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`RxSo2<doxid-classsophus_1_1_rx_so2>`<TNewScalarType> :ref:`cast<doxid-classsophus_1_1_rx_so2_base_1a007d7a6c145ed55a5a60da83575d6488>`() const;
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`* :ref:`data<doxid-classsophus_1_1_rx_so2_base_1a2d0ec63a1080c9368d2935bc3e5c598c>`();
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>` const* :ref:`data<doxid-classsophus_1_1_rx_so2_base_1a6e8c51d9d4d0b0942cb5d2de7c91b748>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`RxSo2<doxid-classsophus_1_1_rx_so2>`<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`> :ref:`inverse<doxid-classsophus_1_1_rx_so2_base_1a27ca84fd04b0a5d6c65451ae6b906fa7>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Tangent<doxid-classsophus_1_1_rx_so2_base_1a14797021d8636fd439ae7b39fc1b3aee>` :ref:`log<doxid-classsophus_1_1_rx_so2_base_1a724b1525056122754f6cfe067ba07eed>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1ad742acf7ee0250a17aa88d56e40f3818>` :ref:`matrix<doxid-classsophus_1_1_rx_so2_base_1aa2aceabfc88334b3ea47a6fd44e839d7>`() const;
	
		template <class TOtherDerived>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` RxSo2Base<TDerived>& :ref:`operator=<doxid-classsophus_1_1_rx_so2_base_1a6a8632ada0b2c49ddbb4cd28f644542d>`(RxSo2Base<TOtherDerived> const& other);
	
		template <class TOtherDerived>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`RxSo2Product<doxid-classsophus_1_1_rx_so2_base_1a71ff0420ef5e23734041b491c43d5b4b>`<TOtherDerived> :ref:`operator*<doxid-classsophus_1_1_rx_so2_base_1a61cbba3a033751f2ebb199fd480d0785>`(RxSo2Base<TOtherDerived> const& other) const;
	
		template <
			typename TPointDerived,
			typename = typename std::enable_if<IsFixedSizeVector<TPointDerived, 2>::value>::type
		>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`PointProduct<doxid-classsophus_1_1_rx_so2_base_1a9ef42846f4edb15451e23a842edd44a5>`<TPointDerived> :ref:`operator*<doxid-classsophus_1_1_rx_so2_base_1a2a27d4efa7e9243ea4b81ddded475cfd>`(Eigen::MatrixBase<TPointDerived> const& p) const;
	
		template <
			typename THPointDerived,
			typename = typename std::enable_if<IsFixedSizeVector<THPointDerived, 3>::value>::type
		>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`HomogeneousPointProduct<doxid-classsophus_1_1_rx_so2_base_1ae080c2fd946cbb9e8cbba9fce3922b27>`<THPointDerived> :ref:`operator*<doxid-classsophus_1_1_rx_so2_base_1a3c2109e1b44681cd0b69aa89aa191820>`(Eigen::MatrixBase<THPointDerived> const& p) const;
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Line<doxid-classsophus_1_1_rx_so2_base_1a00cb173488d88cfc7788bf342a07e828>` :ref:`operator*<doxid-classsophus_1_1_rx_so2_base_1a6c5c1fce64d005bc35c8bf62b0734aa6>`(:ref:`Line<doxid-classsophus_1_1_rx_so2_base_1a00cb173488d88cfc7788bf342a07e828>` const& l) const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Hyperplane<doxid-classsophus_1_1_rx_so2_base_1a885d85917eadab7a269097186edf3a8f>` :ref:`operator*<doxid-classsophus_1_1_rx_so2_base_1a1c3d31783c8b6e9ce274569dcc230f28>`(:ref:`Hyperplane<doxid-classsophus_1_1_rx_so2_base_1a885d85917eadab7a269097186edf3a8f>` const& p) const;
	
		template <
			typename TOtherDerived,
			typename = typename std::enable_if<std::is_same<Scalar, ReturnScalar<TOtherDerived>>::value>::type
		>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` RxSo2Base<TDerived>& :ref:`operator*=<doxid-classsophus_1_1_rx_so2_base_1ae0cd63b748b85232225f38e9041387ca>`(RxSo2Base<TOtherDerived> const& other);
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1a76f9a2fdb63e47c39d11b2e5fdf8369d>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a96ef5537aade76b8ccc3539b150ef5f4>`> :ref:`dxThisMulExpXAt0<doxid-classsophus_1_1_rx_so2_base_1a1badd8345a4ece009f9c1dfffe6f7394>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a96ef5537aade76b8ccc3539b150ef5f4>`, :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1a76f9a2fdb63e47c39d11b2e5fdf8369d>`> :ref:`dxLogThisInvTimesXAtThis<doxid-classsophus_1_1_rx_so2_base_1ae256c92fa9579f722e94e861eb670380>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Vector<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1a76f9a2fdb63e47c39d11b2e5fdf8369d>`> :ref:`params<doxid-classsophus_1_1_rx_so2_base_1aacdf54a933130471bd759ff56d34656c>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setComplex<doxid-classsophus_1_1_rx_so2_base_1a4984306337a5c3e6786642437b7f425d>`(Eigen::Vector2<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`> const& z);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`ComplexType<doxid-classsophus_1_1_rx_so2_base_1addc7a0e343df4ef14a2c4f45991180b2>` const& :ref:`complex<doxid-classsophus_1_1_rx_so2_base_1a6773da752d2515edb1ba959b35c78ebc>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1ad742acf7ee0250a17aa88d56e40f3818>` :ref:`rotationMatrix<doxid-classsophus_1_1_rx_so2_base_1a1654af78ccf7addd0153e0bee4b750c5>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>` :ref:`scale<doxid-classsophus_1_1_rx_so2_base_1a995816fd0bd6ac679063ef9234b5ef60>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setAngle<doxid-classsophus_1_1_rx_so2_base_1a76c69dee3f75d37d4e015d8a2bb93504>`(:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>` const& theta);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setRotationMatrix<doxid-classsophus_1_1_rx_so2_base_1a0e0a2d6c298d22695735b433c6d72e1a>`(:ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1ad742acf7ee0250a17aa88d56e40f3818>` const& mat_r);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setScale<doxid-classsophus_1_1_rx_so2_base_1ad3340b4efdd60a0e4f829140a99618b5>`(:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>` const& scale);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setScaledRotationMatrix<doxid-classsophus_1_1_rx_so2_base_1a36b53d1090dadde6995c1bf910e353d2>`(:ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1ad742acf7ee0250a17aa88d56e40f3818>` const& mat_scaled_rot);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setSO2<doxid-classsophus_1_1_rx_so2_base_1af75cfff444a3831f52d9469d20a8faaa>`(:ref:`So2<doxid-classsophus_1_1_so2>`<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`> const& so2);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`So2<doxid-classsophus_1_1_so2>`<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`> :target:`so2<doxid-classsophus_1_1_rx_so2_base_1a64900561eadf99ec6a5905fd0005e00c>`() const;
	};

	// direct descendants

	template <class TScalar, int kOptions>
	class :ref:`Map<sophus::RxSo2<TScalar> const, kOptions><doxid-class_eigen_1_1_map_3_01sophus_1_1_rx_so2_3_01_t_scalar_01_4_01const_00_01k_options_01_4>`;

	template <class TScalar, int kOptions>
	class :ref:`Map<sophus::RxSo2<TScalar>, kOptions><doxid-class_eigen_1_1_map_3_01sophus_1_1_rx_so2_3_01_t_scalar_01_4_00_01k_options_01_4>`;
.. _details-classsophus_1_1_rx_so2_base:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

:ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>` base type - implements :ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>` class but is storage agnostic.

This class implements the group ``R+ x SO(2)``, the direct product of the group of positive scalar 2x2 matrices (= isomorph to the positive real numbers) and the two-dimensional special orthogonal group SO(2). Geometrically, it is the group of rotation and scaling in two dimensions. As a matrix groups, R+ x SO(2) consists of matrices of the form ``s * R`` where ``R`` is an orthogonal matrix with ``det(R) = 1`` and ``s > 0`` being a positive real number. In particular, it has the following form:

.. code-block:: cpp

	| s * cos(theta)  s * -sin(theta) |
	| s * sin(theta)  s *  cos(theta) |

where ``theta`` being the rotation angle. Internally, it is represented by the first column of the rotation matrix, or in other words by a non-zero complex number.

R+ x SO(2) is not compact, but a commutative group. First it is not compact since the scale factor is not bound. Second it is commutative since ``sR(alpha, s1) * sR(beta, s2) = sR(beta, s2) * sR(alpha, s1)``, simply because ``alpha + beta = beta + alpha`` and ``s1 * s2 = s2 * s1`` with ``alpha`` and ``beta`` being rotation angles and ``s1``, ``s2`` being scale factors.

This class has the explicit class invariant that the scale ``s`` is not too close to either zero or infinity. Strictly speaking, it must hold that:

``:ref:`complex() <doxid-classsophus_1_1_rx_so2_base_1a6773da752d2515edb1ba959b35c78ebc>`.norm() >= Constants::epsilon()`` and ``1. / :ref:`complex() <doxid-classsophus_1_1_rx_so2_base_1a6773da752d2515edb1ba959b35c78ebc>`.norm() >= Constants::epsilon()``.

In order to obey this condition, group multiplication is implemented with saturation such that a product always has a scale which is equal or greater this threshold.

Typedefs
--------

.. index:: pair: typedef; ReturnScalar
.. _doxid-classsophus_1_1_rx_so2_base_1a6d5049d4341efd98753ff7b5548b7bd7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	using ReturnScalar = typename Eigen::ScalarBinaryOpTraits<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, typename TOtherDerived::Scalar>::ReturnType 

For binary operations the return type is determined with the ScalarBinaryOpTraits feature of :ref:`Eigen <doxid-namespace_eigen>`. This allows mixing concrete and Map types, as well as other compatible scalar types such as Ceres::Jet and double scalars with :ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>` operations.

Fields
------

.. index:: pair: variable; kDoF
.. _doxid-classsophus_1_1_rx_so2_base_1a96ef5537aade76b8ccc3539b150ef5f4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static constexpr int kDoF = 2

Degrees of freedom of manifold, number of dimensions in tangent space (one for rotation and one for scaling).

.. index:: pair: variable; kNumParameters
.. _doxid-classsophus_1_1_rx_so2_base_1a76f9a2fdb63e47c39d11b2e5fdf8369d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static constexpr int kNumParameters = 2

Number of internal parameters used (complex number is a tuple).

.. index:: pair: variable; kMatrixDim
.. _doxid-classsophus_1_1_rx_so2_base_1ad7231f2ff45af51acb2691093cdc5942:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static constexpr int kMatrixDim = 2

Group transformations are 2x2 matrices.

.. index:: pair: variable; kPointDim
.. _doxid-classsophus_1_1_rx_so2_base_1a44ff3f3d38b97e064cdb843ee5bff359:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static constexpr int kPointDim = 2

Points are 2-dimensional.

Methods
-------

.. index:: pair: function; adj
.. _doxid-classsophus_1_1_rx_so2_base_1a3197a8191e899800ffb0b81c3867fa90:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Adjoint<doxid-classsophus_1_1_rx_so2_base_1ae279546cffcb978438b32d5069ff682f>` adj() const

Adjoint transformation.

This function return the adjoint transformation ``Ad`` of the group element ``A`` such that for all ``x`` it holds that ``hat(Ad_A * x) = A * hat(x) A^{-1}``. See hat-operator below.

For RxSO(2), it simply returns the identity matrix.

.. index:: pair: function; angle
.. _doxid-classsophus_1_1_rx_so2_base_1a641734afc455ea6215396bf2f30b9e29:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>` angle() const

Returns rotation angle.

.. index:: pair: function; cast
.. _doxid-classsophus_1_1_rx_so2_base_1a007d7a6c145ed55a5a60da83575d6488:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class TNewScalarType>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`RxSo2<doxid-classsophus_1_1_rx_so2>`<TNewScalarType> cast() const

Returns copy of instance casted to NewScalarType.

.. index:: pair: function; data
.. _doxid-classsophus_1_1_rx_so2_base_1a2d0ec63a1080c9368d2935bc3e5c598c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`* data()

This provides unsafe read/write access to internal data. RxSO(2) is represented by a complex number (two parameters). When using direct write access, the user needs to take care of that the complex number is not set close to zero.

Note: The first parameter represents the real part, while the second parameter represent the imaginary part.

.. index:: pair: function; data
.. _doxid-classsophus_1_1_rx_so2_base_1a6e8c51d9d4d0b0942cb5d2de7c91b748:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>` const* data() const

Const version of :ref:`data() <doxid-classsophus_1_1_rx_so2_base_1a2d0ec63a1080c9368d2935bc3e5c598c>` above.

.. index:: pair: function; inverse
.. _doxid-classsophus_1_1_rx_so2_base_1a27ca84fd04b0a5d6c65451ae6b906fa7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`RxSo2<doxid-classsophus_1_1_rx_so2>`<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`> inverse() const

Returns group inverse.

.. index:: pair: function; log
.. _doxid-classsophus_1_1_rx_so2_base_1a724b1525056122754f6cfe067ba07eed:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Tangent<doxid-classsophus_1_1_rx_so2_base_1a14797021d8636fd439ae7b39fc1b3aee>` log() const

Logarithmic map.

Computes the logarithm, the inverse of the group exponential which maps element of the group (scaled rotation matrices) to elements of the tangent space (rotation-vector plus logarithm of scale factor).

To be specific, this function computes ``vee(logmat(.))`` with ``logmat(.)`` being the matrix logarithm and ``vee(.)`` the vee-operator of :ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>`.

.. index:: pair: function; matrix
.. _doxid-classsophus_1_1_rx_so2_base_1aa2aceabfc88334b3ea47a6fd44e839d7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1ad742acf7ee0250a17aa88d56e40f3818>` matrix() const

Returns 2x2 matrix representation of the instance.

For :ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>`, the matrix representation is an scaled orthogonal matrix ``sR`` with ``det(R)=s^2``, thus a scaled rotation matrix ``R`` with scale ``s``.

.. index:: pair: function; operator=
.. _doxid-classsophus_1_1_rx_so2_base_1a6a8632ada0b2c49ddbb4cd28f644542d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class TOtherDerived>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` RxSo2Base<TDerived>& operator=(RxSo2Base<TOtherDerived> const& other)

Assignment-like operator from OtherDerived.

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_rx_so2_base_1a61cbba3a033751f2ebb199fd480d0785:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class TOtherDerived>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`RxSo2Product<doxid-classsophus_1_1_rx_so2_base_1a71ff0420ef5e23734041b491c43d5b4b>`<TOtherDerived> operator*(RxSo2Base<TOtherDerived> const& other) const

Group multiplication, which is rotation concatenation and scale multiplication.

Note: This function performs saturation for products close to zero in order to ensure the class invariant.

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_rx_so2_base_1a2a27d4efa7e9243ea4b81ddded475cfd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <
		typename TPointDerived,
		typename = typename std::enable_if<IsFixedSizeVector<TPointDerived, 2>::value>::type
	>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`PointProduct<doxid-classsophus_1_1_rx_so2_base_1a9ef42846f4edb15451e23a842edd44a5>`<TPointDerived> operator*(Eigen::MatrixBase<TPointDerived> const& p) const

Group action on 2-points.

This function rotates a 2 dimensional point ``p`` by the :ref:`So2 <doxid-classsophus_1_1_so2>` element ``bar_R_foo`` (= rotation matrix) and scales it by the scale factor ``s`` :

``p_bar = s * (bar_R_foo * p_foo)``.

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_rx_so2_base_1a3c2109e1b44681cd0b69aa89aa191820:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <
		typename THPointDerived,
		typename = typename std::enable_if<IsFixedSizeVector<THPointDerived, 3>::value>::type
	>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`HomogeneousPointProduct<doxid-classsophus_1_1_rx_so2_base_1ae080c2fd946cbb9e8cbba9fce3922b27>`<THPointDerived> operator*(Eigen::MatrixBase<THPointDerived> const& p) const

Group action on homogeneous 2-points. See above for more details.

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_rx_so2_base_1a6c5c1fce64d005bc35c8bf62b0734aa6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Line<doxid-classsophus_1_1_rx_so2_base_1a00cb173488d88cfc7788bf342a07e828>` operator*(:ref:`Line<doxid-classsophus_1_1_rx_so2_base_1a00cb173488d88cfc7788bf342a07e828>` const& l) const

Group action on lines.

This function rotates a parameterized line ``l(t) = o + t * d`` by the :ref:`So2 <doxid-classsophus_1_1_so2>` element and scales it by the scale factor

Origin ``o`` is rotated and scaled Direction ``d`` is rotated (preserving it's norm)

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_rx_so2_base_1a1c3d31783c8b6e9ce274569dcc230f28:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Hyperplane<doxid-classsophus_1_1_rx_so2_base_1a885d85917eadab7a269097186edf3a8f>` operator*(:ref:`Hyperplane<doxid-classsophus_1_1_rx_so2_base_1a885d85917eadab7a269097186edf3a8f>` const& p) const

Group action on hyper-planes.

This function rotates a hyper-plane ``n.x + d = 0`` by the :ref:`So2 <doxid-classsophus_1_1_so2>` element and scales offset by the scale factor

Normal vector ``n`` is rotated Offset ``d`` is scaled

Note that in 2d-case hyper-planes are just another parametrization of lines

.. index:: pair: function; operator*=
.. _doxid-classsophus_1_1_rx_so2_base_1ae0cd63b748b85232225f38e9041387ca:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <
		typename TOtherDerived,
		typename = typename std::enable_if<std::is_same<Scalar, ReturnScalar<TOtherDerived>>::value>::type
	>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` RxSo2Base<TDerived>& operator*=(RxSo2Base<TOtherDerived> const& other)

In-place group multiplication. This method is only valid if the return type of the multiplication is compatible with this :ref:`So2 <doxid-classsophus_1_1_so2>` 's Scalar type.

Note: This function performs saturation for products close to zero in order to ensure the class invariant.

.. index:: pair: function; dxThisMulExpXAt0
.. _doxid-classsophus_1_1_rx_so2_base_1a1badd8345a4ece009f9c1dfffe6f7394:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1a76f9a2fdb63e47c39d11b2e5fdf8369d>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a96ef5537aade76b8ccc3539b150ef5f4>`> dxThisMulExpXAt0() const

Returns derivative of this \* RxSo2::exp(x) wrt. x at x=0.

.. index:: pair: function; dxLogThisInvTimesXAtThis
.. _doxid-classsophus_1_1_rx_so2_base_1ae256c92fa9579f722e94e861eb670380:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a96ef5537aade76b8ccc3539b150ef5f4>`, :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1a76f9a2fdb63e47c39d11b2e5fdf8369d>`> dxLogThisInvTimesXAtThis() const

Returns derivative of log(this^{-1} \* x) by x at x=this.

.. index:: pair: function; params
.. _doxid-classsophus_1_1_rx_so2_base_1aacdf54a933130471bd759ff56d34656c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Vector<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`, :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1a76f9a2fdb63e47c39d11b2e5fdf8369d>`> params() const

Returns internal parameters of RxSO(2).

It returns (c[0], c[1]), with c being the complex number.

.. index:: pair: function; setComplex
.. _doxid-classsophus_1_1_rx_so2_base_1a4984306337a5c3e6786642437b7f425d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setComplex(Eigen::Vector2<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`> const& z)

Sets non-zero complex.

Precondition: ``z`` must not be close to either zero or infinity.

.. index:: pair: function; complex
.. _doxid-classsophus_1_1_rx_so2_base_1a6773da752d2515edb1ba959b35c78ebc:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`ComplexType<doxid-classsophus_1_1_rx_so2_base_1addc7a0e343df4ef14a2c4f45991180b2>` const& complex() const

Accessor of complex.

.. index:: pair: function; rotationMatrix
.. _doxid-classsophus_1_1_rx_so2_base_1a1654af78ccf7addd0153e0bee4b750c5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1ad742acf7ee0250a17aa88d56e40f3818>` rotationMatrix() const

Returns rotation matrix.

.. index:: pair: function; scale
.. _doxid-classsophus_1_1_rx_so2_base_1a995816fd0bd6ac679063ef9234b5ef60:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>` scale() const

Returns scale.

.. index:: pair: function; setAngle
.. _doxid-classsophus_1_1_rx_so2_base_1a76c69dee3f75d37d4e015d8a2bb93504:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setAngle(:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>` const& theta)

Setter of rotation angle, leaves scale as is.

.. index:: pair: function; setRotationMatrix
.. _doxid-classsophus_1_1_rx_so2_base_1a0e0a2d6c298d22695735b433c6d72e1a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setRotationMatrix(:ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1ad742acf7ee0250a17aa88d56e40f3818>` const& mat_r)

Setter of complex using rotation matrix ``R``, leaves scale as is.

Precondition: ``R`` must be orthogonal with determinant of one.

.. index:: pair: function; setScale
.. _doxid-classsophus_1_1_rx_so2_base_1ad3340b4efdd60a0e4f829140a99618b5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setScale(:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>` const& scale)

Sets scale and leaves rotation as is.

.. index:: pair: function; setScaledRotationMatrix
.. _doxid-classsophus_1_1_rx_so2_base_1a36b53d1090dadde6995c1bf910e353d2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setScaledRotationMatrix(:ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1ad742acf7ee0250a17aa88d56e40f3818>` const& mat_scaled_rot)

Setter of complex number using scaled rotation matrix ``sR``.

Precondition: The 2x2 matrix must be "scaled orthogonal" and have a positive determinant.

.. index:: pair: function; setSO2
.. _doxid-classsophus_1_1_rx_so2_base_1af75cfff444a3831f52d9469d20a8faaa:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setSO2(:ref:`So2<doxid-classsophus_1_1_so2>`<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1a6bc314219634cc88fc44abed8edb1b62>`> const& so2)

Setter of SO(2) rotations, leaves scale as is.

