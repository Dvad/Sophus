.. index:: pair: class; sophus::So3
.. _doxid-classsophus_1_1_so3:

template class sophus::So3
==========================

.. toctree::
	:hidden:

	struct_sophus_So3_So3AndTheta.rst

Overview
~~~~~~~~

:ref:`So3 <doxid-classsophus_1_1_so3>` using default storage; derived from :ref:`So3Base <doxid-classsophus_1_1_so3_base>`. :ref:`More...<details-classsophus_1_1_so3>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <so3.h>
	
	template <class TScalar, int kOptions>
	class So3 {
	public:
		// typedefs
	
		using :target:`Base<doxid-classsophus_1_1_so3_1a79c5ae6b6e1852cac8195819f75de2ef>` = :ref:`So3Base<doxid-classsophus_1_1_so3_base>`<So3<TScalar, kOptions>> ;
		using :target:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>` = TScalar ;
		using :target:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` = typename :ref:`Base::Transformation<doxid-classsophus_1_1_so3_base_1a6aff5d115c13f44957867b32eb508e7a>` ;
		using :target:`Point<doxid-classsophus_1_1_so3_1ac26a92785308352b98d37cd950214506>` = typename :ref:`Base::Point<doxid-classsophus_1_1_so3_base_1a7dec4ecdc70c5f8172265387290d832d>` ;
		using :target:`HomogeneousPoint<doxid-classsophus_1_1_so3_1ae6d2dc75ff85c37b43f1d1d03331dde8>` = typename :ref:`Base::HomogeneousPoint<doxid-classsophus_1_1_so3_base_1a34e9d49895a65502de3c0473e676b86d>` ;
		using :target:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` = typename :ref:`Base::Tangent<doxid-classsophus_1_1_so3_base_1a55d7efd510daf32e4eddcdf54b06259c>` ;
		using :target:`Adjoint<doxid-classsophus_1_1_so3_1a9cabda69fbde1eec77fbf1fd889ac87b>` = typename :ref:`Base::Adjoint<doxid-classsophus_1_1_so3_base_1aae8912bf0ab75e878345d46d2d913842>` ;
		using :target:`QuaternionMember<doxid-classsophus_1_1_so3_1a3aca9fd6820ce9d13789d1723b5e8ba0>` = Eigen::Quaternion<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`, kOptions> ;

		// structs
	
		struct :ref:`So3AndTheta<doxid-structsophus_1_1_so3_1_1_so3_and_theta>`;

		// fields
	
		static constexpr int :target:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>` = Base::kDoF;
		static constexpr int :target:`kNumParameters<doxid-classsophus_1_1_so3_1a64278020fd3261d9df2332a32300d296>` = Base::kNumParameters;

		// construction
	
		:ref:`So3<doxid-classsophus_1_1_so3_1a5725d23797c66b4be5ea1d24a0cb1906>`();
		:ref:`So3<doxid-classsophus_1_1_so3_1a81db0225c3cc970bc88a1eba551c34e5>`(So3 const& other);
	
		template <class TOtherDerived>
		:ref:`So3<doxid-classsophus_1_1_so3_1addedd212120e2b1b8a1bb12e18e28e2d>`(:ref:`So3Base<doxid-classsophus_1_1_so3_base>`<TOtherDerived> const& other);
	
		:ref:`So3<doxid-classsophus_1_1_so3_1a025072d43311adb488640f5139d961cb>`(:ref:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` const& r);
	
		template <class TD>
		:ref:`So3<doxid-classsophus_1_1_so3_1a2844a8e8b2ee6229cd0fdbb5adf29467>`(Eigen::QuaternionBase<TD> const& quat);

		// methods
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` So3& :ref:`operator=<doxid-classsophus_1_1_so3_1a1f61efd5d79081cd4f13ba9c039d9649>`(So3 const& other);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`QuaternionMember<doxid-classsophus_1_1_so3_1a3aca9fd6820ce9d13789d1723b5e8ba0>` const& :ref:`unitQuaternion<doxid-classsophus_1_1_so3_1a918eb227f8bfe10f3bd625224371b3d2>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`> :ref:`dxThisMulX<doxid-classsophus_1_1_so3_1a28a712c47deb1732c5a0ee56a07e4463>`() const;
	
		template <class TOtherDerived>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`So3Base<doxid-classsophus_1_1_so3_base>`<TDerived>& :ref:`operator=<doxid-classsophus_1_1_so3_1a59135c83cd68d405cdacb4e4f6cc12e6>`(:ref:`So3Base<doxid-classsophus_1_1_so3_base>`<TOtherDerived> const& other);
	
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`> :ref:`leftJacobian<doxid-classsophus_1_1_so3_1a91fec7ed69d1b88106d004cb76a524f8>`(
			:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega,
			std::optional<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`> const& maybe_theta = std::nullopt
		);
	
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`> :target:`leftJacobianInverse<doxid-classsophus_1_1_so3_1a8d7e5b5f0616d316654140daa31d0f94>`(
			:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega,
			std::optional<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`> const& maybe_theta = std::nullopt
		);
	
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`, :ref:`kNumParameters<doxid-classsophus_1_1_so3_1a64278020fd3261d9df2332a32300d296>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`> :ref:`dxExpX<doxid-classsophus_1_1_so3_1a8394fe49742bf27a3e34e753127766a8>`(:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega);
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`, :ref:`kNumParameters<doxid-classsophus_1_1_so3_1a64278020fd3261d9df2332a32300d296>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`> :ref:`dxExpXAt0<doxid-classsophus_1_1_so3_1a4938d535bd2787a04864463beffd557b>`();
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`, 3, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`> :ref:`dxExpXTimesPointAt0<doxid-classsophus_1_1_so3_1af71e3db4bec10e3a85a9d82349db070c>`(:ref:`Point<doxid-classsophus_1_1_so3_1ac26a92785308352b98d37cd950214506>` const& point);
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` :ref:`dxiExpmatXAt0<doxid-classsophus_1_1_so3_1a2297df5a9f4efe3d8c874649dc141be8>`(int i);
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` So3<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`> :ref:`exp<doxid-classsophus_1_1_so3_1a0e208a962afbebab45d5f6681d976f46>`(:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega);
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`So3AndTheta<doxid-structsophus_1_1_so3_1_1_so3_and_theta>` :ref:`expAndTheta<doxid-classsophus_1_1_so3_1af01edb65fc7e7a891b59248a0755989a>`(:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega);
	
		template <class TS = Scalar>
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` std::enable_if_t<std::is_floating_point<TS>::value, So3> :ref:`fitToSo3<doxid-classsophus_1_1_so3_1a315b546e97228ea826d6fd1e8b37bc63>`(:ref:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` const& r);
	
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` :ref:`generator<doxid-classsophus_1_1_so3_1ae1c519aac7e13d3c3b735c5c32912a1c>`(int i);
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` :ref:`hat<doxid-classsophus_1_1_so3_1a7954dacd3cef395de084a4fabdebf4c8>`(:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega);
	
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` :ref:`lieBracket<doxid-classsophus_1_1_so3_1a3f2c99cf2159fafe52a7959dc2691c11>`(
			:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega1,
			:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega2
		);
	
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` So3 :ref:`rotX<doxid-classsophus_1_1_so3_1af386937d782c02313593187c5dc03329>`(:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>` const& x);
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` So3 :ref:`rotY<doxid-classsophus_1_1_so3_1a5df90ddf2c3f84285adfa2f1ec149ab7>`(:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>` const& y);
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` So3 :ref:`rotZ<doxid-classsophus_1_1_so3_1a88776a2ca3bfce1ef46f3efeaddb4885>`(:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>` const& z);
	
		template <class TUniformRandomBitGenerator>
		static So3 :ref:`sampleUniform<doxid-classsophus_1_1_so3_1a5442a69bb36a6ce801a1938a59a35443>`(TUniformRandomBitGenerator& generator);
	
		static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` :ref:`vee<doxid-classsophus_1_1_so3_1aa3f69e069f2d8d27a85c79bbc68450c4>`(:ref:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` const& omega);

	protected:
		// fields
	
		:ref:`QuaternionMember<doxid-classsophus_1_1_so3_1a3aca9fd6820ce9d13789d1723b5e8ba0>` :target:`unit_quaternion_<doxid-classsophus_1_1_so3_1ad7672aa879b2b8b240cc1109e7753ccc>`;

		// methods
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`QuaternionMember<doxid-classsophus_1_1_so3_1a3aca9fd6820ce9d13789d1723b5e8ba0>`& :ref:`mutUnitQuaternion<doxid-classsophus_1_1_so3_1ad260be2e0fa2b180b8e4cfdbe8345064>`();
	};
.. _details-classsophus_1_1_so3:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

:ref:`So3 <doxid-classsophus_1_1_so3>` using default storage; derived from :ref:`So3Base <doxid-classsophus_1_1_so3_base>`.

Construction
------------

.. index:: pair: function; So3
.. _doxid-classsophus_1_1_so3_1a5725d23797c66b4be5ea1d24a0cb1906:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	So3()

Default constructor initializes unit quaternion to identity rotation.

.. index:: pair: function; So3
.. _doxid-classsophus_1_1_so3_1a81db0225c3cc970bc88a1eba551c34e5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	So3(So3 const& other)

Copy constructor.

.. index:: pair: function; So3
.. _doxid-classsophus_1_1_so3_1addedd212120e2b1b8a1bb12e18e28e2d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class TOtherDerived>
	So3(:ref:`So3Base<doxid-classsophus_1_1_so3_base>`<TOtherDerived> const& other)

Copy-like constructor from OtherDerived.

.. index:: pair: function; So3
.. _doxid-classsophus_1_1_so3_1a025072d43311adb488640f5139d961cb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	So3(:ref:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` const& r)

Constructor from rotation matrix.

Precondition: rotation matrix needs to be orthogonal with determinant of 1.

.. index:: pair: function; So3
.. _doxid-classsophus_1_1_so3_1a2844a8e8b2ee6229cd0fdbb5adf29467:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class TD>
	So3(Eigen::QuaternionBase<TD> const& quat)

Constructor from quaternion.

Precondition: quaternion must not be close to zero.

Methods
-------

.. index:: pair: function; operator=
.. _doxid-classsophus_1_1_so3_1a1f61efd5d79081cd4f13ba9c039d9649:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` So3& operator=(So3 const& other)

Define copy-assignment operator explicitly. The definition of implicit copy assignment operator is deprecated in presence of a user-declared copy constructor (-Wdeprecated-copy in clang >= 13).

.. index:: pair: function; unitQuaternion
.. _doxid-classsophus_1_1_so3_1a918eb227f8bfe10f3bd625224371b3d2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`QuaternionMember<doxid-classsophus_1_1_so3_1a3aca9fd6820ce9d13789d1723b5e8ba0>` const& unitQuaternion() const

Accessor of unit quaternion.

.. index:: pair: function; dxThisMulX
.. _doxid-classsophus_1_1_so3_1a28a712c47deb1732c5a0ee56a07e4463:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`> dxThisMulX() const

Returns derivative of this \* x wrt x at x=0.

.. index:: pair: function; operator=
.. _doxid-classsophus_1_1_so3_1a59135c83cd68d405cdacb4e4f6cc12e6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class TOtherDerived>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`So3Base<doxid-classsophus_1_1_so3_base>`<TDerived>& operator=(:ref:`So3Base<doxid-classsophus_1_1_so3_base>`<TOtherDerived> const& other)

Assignment-like operator from OtherDerived.

.. index:: pair: function; leftJacobian
.. _doxid-classsophus_1_1_so3_1a91fec7ed69d1b88106d004cb76a524f8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`> leftJacobian(
		:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega,
		std::optional<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`> const& maybe_theta = std::nullopt
	)

Returns the left Jacobian on lie group. See 1st entry in rightmost column in: `http://asrl.utias.utoronto.ca/~tdb/bib/barfoot_ser17_identities.pdf <http://asrl.utias.utoronto.ca/~tdb/bib/barfoot_ser17_identities.pdf>`__.

A precomputed ``theta`` can be optionally passed in

Warning: Not to be confused with :ref:`dxExpX() <doxid-classsophus_1_1_so3_1a8394fe49742bf27a3e34e753127766a8>`, which is derivative of the internal quaternion representation of :ref:`So3 <doxid-classsophus_1_1_so3>` wrt the tangent vector

.. index:: pair: function; dxExpX
.. _doxid-classsophus_1_1_so3_1a8394fe49742bf27a3e34e753127766a8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`, :ref:`kNumParameters<doxid-classsophus_1_1_so3_1a64278020fd3261d9df2332a32300d296>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`> dxExpX(:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega)

Returns derivative of exp(x) wrt. x.

.. index:: pair: function; dxExpXAt0
.. _doxid-classsophus_1_1_so3_1a4938d535bd2787a04864463beffd557b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`, :ref:`kNumParameters<doxid-classsophus_1_1_so3_1a64278020fd3261d9df2332a32300d296>`, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`> dxExpXAt0()

Returns derivative of exp(x) wrt. x_i at x=0.

.. index:: pair: function; dxExpXTimesPointAt0
.. _doxid-classsophus_1_1_so3_1af71e3db4bec10e3a85a9d82349db070c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`, 3, :ref:`kDoF<doxid-classsophus_1_1_so3_1a9018b85084d2f39eb6da02271b749476>`> dxExpXTimesPointAt0(:ref:`Point<doxid-classsophus_1_1_so3_1ac26a92785308352b98d37cd950214506>` const& point)

Returns derivative of exp(x) \* p wrt. x at x=0.

.. index:: pair: function; dxiExpmatXAt0
.. _doxid-classsophus_1_1_so3_1a2297df5a9f4efe3d8c874649dc141be8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` dxiExpmatXAt0(int i)

Returns derivative of ``expmat(x)`` wrt. ``x_i at x=0``, with ``expmat(.)`` being the matrix exponential.

.. index:: pair: function; exp
.. _doxid-classsophus_1_1_so3_1a0e208a962afbebab45d5f6681d976f46:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` So3<:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>`> exp(:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega)

Group exponential.

This functions takes in an element of tangent space (= rotation vector ``omega``) and returns the corresponding element of the group SO(3).

To be more specific, this function computes ``expmat(hat(omega))`` with ``expmat(.)`` being the matrix exponential and ``hat(.)`` being the :ref:`hat() <doxid-classsophus_1_1_so3_1a7954dacd3cef395de084a4fabdebf4c8>` -operator of SO(3).

.. index:: pair: function; expAndTheta
.. _doxid-classsophus_1_1_so3_1af01edb65fc7e7a891b59248a0755989a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`So3AndTheta<doxid-structsophus_1_1_so3_1_1_so3_and_theta>` expAndTheta(:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega)

As above, but also returns ``theta = |omega|`` as out-parameter.

Precondition: ``theta`` must not be ``nullptr``.

.. index:: pair: function; fitToSo3
.. _doxid-classsophus_1_1_so3_1a315b546e97228ea826d6fd1e8b37bc63:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class TS = Scalar>
	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` std::enable_if_t<std::is_floating_point<TS>::value, So3> fitToSo3(:ref:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` const& r)

Returns closest :ref:`So3 <doxid-classsophus_1_1_so3>` given arbitrary 3x3 matrix.

.. index:: pair: function; generator
.. _doxid-classsophus_1_1_so3_1ae1c519aac7e13d3c3b735c5c32912a1c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` generator(int i)

Returns the ith infinitesimal generators of SO(3).

The infinitesimal generators of SO(3) are:

.. ref-code-block:: cpp

	      |  0  0  0 |
	G_0 = |  0  0 -1 |
	      |  0  1  0 |
	
	      |  0  0  1 |
	G_1 = |  0  0  0 |
	      | -1  0  0 |
	
	      |  0 -1  0 |
	G_2 = |  1  0  0 |
	      |  0  0  0 |

Precondition: ``i`` must be 0, 1 or 2.

.. index:: pair: function; hat
.. _doxid-classsophus_1_1_so3_1a7954dacd3cef395de084a4fabdebf4c8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` hat(:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega)

hat-operator

It takes in the 3-vector representation ``omega`` (= rotation vector) and returns the corresponding matrix representation of Lie algebra element.

Formally, the :ref:`hat() <doxid-classsophus_1_1_so3_1a7954dacd3cef395de084a4fabdebf4c8>` -operator of SO(3) is defined as

``hat(.): R^3 -> R^{3x3}, hat(omega) = sum_i omega_i * G_i`` (for i=0,1,2)

with ``G_i`` being the ith infinitesimal generator of SO(3).

The corresponding inverse is the :ref:`vee() <doxid-classsophus_1_1_so3_1aa3f69e069f2d8d27a85c79bbc68450c4>` -operator, see below.

.. index:: pair: function; lieBracket
.. _doxid-classsophus_1_1_so3_1a3f2c99cf2159fafe52a7959dc2691c11:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` lieBracket(
		:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega1,
		:ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` const& omega2
	)

Lie bracket.

It computes the Lie bracket of SO(3). To be more specific, it computes

``[omega_1, omega_2]_so3 := vee([hat(omega_1), hat(omega_2)])``

with ``[A,B] := AB-BA`` being the matrix commutator, ``hat(.)`` the :ref:`hat() <doxid-classsophus_1_1_so3_1a7954dacd3cef395de084a4fabdebf4c8>` -operator and ``vee(.)`` the :ref:`vee() <doxid-classsophus_1_1_so3_1aa3f69e069f2d8d27a85c79bbc68450c4>` -operator of :ref:`So3 <doxid-classsophus_1_1_so3>`.

For the Lie algebra so3, the Lie bracket is simply the cross product:

``[omega_1, omega_2]_so3 = omega_1 x omega_2.``

.. index:: pair: function; rotX
.. _doxid-classsophus_1_1_so3_1af386937d782c02313593187c5dc03329:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` So3 rotX(:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>` const& x)

Construct x-axis rotation.

.. index:: pair: function; rotY
.. _doxid-classsophus_1_1_so3_1a5df90ddf2c3f84285adfa2f1ec149ab7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` So3 rotY(:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>` const& y)

Construct y-axis rotation.

.. index:: pair: function; rotZ
.. _doxid-classsophus_1_1_so3_1a88776a2ca3bfce1ef46f3efeaddb4885:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` So3 rotZ(:ref:`Scalar<doxid-classsophus_1_1_so3_1a82ca18963a2b9a96f173a177bda297ef>` const& z)

Construct z-axis rotation.

.. index:: pair: function; sampleUniform
.. _doxid-classsophus_1_1_so3_1a5442a69bb36a6ce801a1938a59a35443:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class TUniformRandomBitGenerator>
	static So3 sampleUniform(TUniformRandomBitGenerator& generator)

Draw uniform sample from SO(3) manifold. Based on: `http://planning.cs.uiuc.edu/node198.html <http://planning.cs.uiuc.edu/node198.html>`__.

.. index:: pair: function; vee
.. _doxid-classsophus_1_1_so3_1aa3f69e069f2d8d27a85c79bbc68450c4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Tangent<doxid-classsophus_1_1_so3_1a93061b458352026be2c4a9bf0cbd99de>` vee(:ref:`Transformation<doxid-classsophus_1_1_so3_1a1606dff117363cf1d202a6fdf8628234>` const& omega)

vee-operator

It takes the 3x3-matrix representation ``Omega`` and maps it to the corresponding vector representation of Lie algebra.

This is the inverse of the :ref:`hat() <doxid-classsophus_1_1_so3_1a7954dacd3cef395de084a4fabdebf4c8>` -operator, see above.

Precondition: ``Omega`` must have the following structure:

.. code-block:: cpp

	|  0 -c  b |
	|  c  0 -a |
	| -b  a  0 |

.. index:: pair: function; mutUnitQuaternion
.. _doxid-classsophus_1_1_so3_1ad260be2e0fa2b180b8e4cfdbe8345064:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`QuaternionMember<doxid-classsophus_1_1_so3_1a3aca9fd6820ce9d13789d1723b5e8ba0>`& mutUnitQuaternion()

Mutator of unit_quaternion is protected to ensure class invariant.

