.. index:: pair: class; sophus::RuntimeImage
.. _doxid-classsophus_1_1_runtime_image:

template class sophus::RuntimeImage
===================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

Type-erased image with shared ownership, and read-only access to pixels. Type is nullable. :ref:`More...<details-classsophus_1_1_runtime_image>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <image.h>
	
	template <
		class TPredicate = AnyImagePredicate,
		template<class> class TAllocator = Eigen::aligned_allocator
		>
	class RuntimeImage {
	public:
		// construction
	
		:ref:`RuntimeImage<doxid-classsophus_1_1_runtime_image_1ab4b201feef2d8733d12742d1c471de11>`();
	
		template <class TPixel>
		:ref:`RuntimeImage<doxid-classsophus_1_1_runtime_image_1a4fe458e9de0a9fb4c649f47f1d363b51>`(:ref:`Image<doxid-classsophus_1_1_image>`<TPixel, TAllocator> const& image);
	
		template <class TPixel>
		:ref:`RuntimeImage<doxid-classsophus_1_1_runtime_image_1ae2b34281b4980fd5ce0e04acd61e0d50>`(:ref:`MutImage<doxid-classsophus_1_1_mut_image>`<TPixel>&& image);
	
		:ref:`RuntimeImage<doxid-classsophus_1_1_runtime_image_1af8e323db179b01d69c712b4acb4046e1>`(:ref:`ImageShape<doxid-classsophus_1_1_image_shape>` const& shape, :ref:`RuntimePixelType<doxid-structsophus_1_1_runtime_pixel_type>` const& pixel_type);
		:ref:`RuntimeImage<doxid-classsophus_1_1_runtime_image_1a71c4749f1d59ccfd98735f67275b208a>`(:ref:`ImageSize<doxid-structsophus_1_1_image_size>` const& size, :ref:`RuntimePixelType<doxid-structsophus_1_1_runtime_pixel_type>` const& pixel_type);

		// methods
	
		template <class TPixel>
		bool :ref:`has<doxid-classsophus_1_1_runtime_image_1afae0cb6cebed210d0a8c15f21dcee58c>`() const;
	
		template <class TPixel>
		:ref:`Image<doxid-classsophus_1_1_image>`<TPixel, TAllocator> :ref:`image<doxid-classsophus_1_1_runtime_image_1a0089264e47dfff0e3ae825cb2e18dfa8>`() const;
	
		template <class TPixel>
		:ref:`Image<doxid-classsophus_1_1_image>`<TPixel, TAllocator> :target:`reinterpretAs<doxid-classsophus_1_1_runtime_image_1ae7aa1c1cb436ff3f1fda7c7573a10f77>`(:ref:`ImageSize<doxid-structsophus_1_1_image_size>` reinterpreted_size) const;
	
		size_t :target:`useCount<doxid-classsophus_1_1_runtime_image_1a322a6750eeaaaee6b7215192eeefa125>`() const;
	
		template <class TT>
		static RuntimeImage :target:`makeCopyFrom<doxid-classsophus_1_1_runtime_image_1ab115fda1e952da134c80295e1c09a4b5>`(:ref:`ImageView<doxid-structsophus_1_1_image_view>`<TT> image_view);
	};
.. _details-classsophus_1_1_runtime_image:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

Type-erased image with shared ownership, and read-only access to pixels. Type is nullable.

Construction
------------

.. index:: pair: function; RuntimeImage
.. _doxid-classsophus_1_1_runtime_image_1ab4b201feef2d8733d12742d1c471de11:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	RuntimeImage()

Empty image.

.. index:: pair: function; RuntimeImage
.. _doxid-classsophus_1_1_runtime_image_1a4fe458e9de0a9fb4c649f47f1d363b51:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class TPixel>
	RuntimeImage(:ref:`Image<doxid-classsophus_1_1_image>`<TPixel, TAllocator> const& image)

Create type-erased image from :ref:`Image <doxid-classsophus_1_1_image>`.

Ownership is shared between :ref:`RuntimeImage <doxid-classsophus_1_1_runtime_image>` and :ref:`Image <doxid-classsophus_1_1_image>`, and hence the reference count will be increased by one (unless input is empty). By design not "explicit".

.. index:: pair: function; RuntimeImage
.. _doxid-classsophus_1_1_runtime_image_1ae2b34281b4980fd5ce0e04acd61e0d50:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class TPixel>
	RuntimeImage(:ref:`MutImage<doxid-classsophus_1_1_mut_image>`<TPixel>&& image)

Create type-erased image from :ref:`MutImage <doxid-classsophus_1_1_mut_image>`. By design not "explicit".

.. index:: pair: function; RuntimeImage
.. _doxid-classsophus_1_1_runtime_image_1af8e323db179b01d69c712b4acb4046e1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	RuntimeImage(:ref:`ImageShape<doxid-classsophus_1_1_image_shape>` const& shape, :ref:`RuntimePixelType<doxid-structsophus_1_1_runtime_pixel_type>` const& pixel_type)

Create type-image image from provided shape and pixel type. Pixel data is left uninitialized.

.. index:: pair: function; RuntimeImage
.. _doxid-classsophus_1_1_runtime_image_1a71c4749f1d59ccfd98735f67275b208a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	RuntimeImage(:ref:`ImageSize<doxid-structsophus_1_1_image_size>` const& size, :ref:`RuntimePixelType<doxid-structsophus_1_1_runtime_pixel_type>` const& pixel_type)

Create type-image image from provided size and pixel type. Pixel data is left uninitialized.

Methods
-------

.. index:: pair: function; has
.. _doxid-classsophus_1_1_runtime_image_1afae0cb6cebed210d0a8c15f21dcee58c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class TPixel>
	bool has() const

Return true is this contains data of type TPixel.

.. index:: pair: function; image
.. _doxid-classsophus_1_1_runtime_image_1a0089264e47dfff0e3ae825cb2e18dfa8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class TPixel>
	:ref:`Image<doxid-classsophus_1_1_image>`<TPixel, TAllocator> image() const

Returns typed image.

Precondition: this-> :ref:`has\<TPixel>() <doxid-classsophus_1_1_runtime_image_1afae0cb6cebed210d0a8c15f21dcee58c>`

